<!DOCTYPE html>
<html lang="en" dir="">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Mis Casos</title>
    <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,400i,600,700,800,900" rel="stylesheet" />
    <link href="/dist-assets/css/themes/lite-purple.min.css" rel="stylesheet" />
    <link href="/dist-assets/css/plugins/perfect-scrollbar.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/dist-assets/css/plugins/datatables.min.css" />
    <script src="https://unpkg.com/xlsx@0.16.9/dist/xlsx.full.min.js"></script>
    <script src="https://unpkg.com/file-saverjs@latest/FileSaver.min.js"></script>
    <script src="https://unpkg.com/tableexport@latest/dist/js/tableexport.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .full-width {
            flex: 1; /* Permitir que la tabla ocupe todo el espacio disponible */
        }
    </style>
</head>

<body class="text-left">
    
    <div class="app-admin-wrap layout-horizontal-bar">
        <div class="main-header">
            <div class="logo"><img src="/dist-assets/images/logo.png" alt="" /></div>
            <div class="menu-toggle">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div class="d-flex align-items-center">
               
            </div>
            <div style="margin: auto"></div>
            <div class="header-part-right">  
                <h4 class="mt-3 mr-3 " id="userNameDisplay"></h4> 
                <a class="link-icon mr-1" href="/index.html" style="font-size:xx-large; color: brown;"><i class="fa-solid fa-power-off"></i></a>
            </div>
        </div>
        <!-- header top menu end-->
        <div class="horizontal-bar-wrap">
            <div class="header-topnav">
                <div class="container-fluid bar-views">
                    <div class="topnav rtl-ps-none" id="" data-perfect-scrollbar="" data-suppress-scroll-x="true">
                        <ul class="menu float-left">
                            <li class="views" id="nuevoCaso">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Nuevo caso</label>
                                        <a href="nuevoCaso.html"><i class="nav-icon mr-2 i-Library text-white"></i> <span class="text-white">Nuevo caso</span> </a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="casosPendientes">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Mesa de Entrada</label><a href="casosPendientes.html"><i class="nav-icon i-File-Horizontal-Text mr-2 text-white"></i> <span class="text-white">Mesa de Entrada</span></a>
                                       
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="casosGestion">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Casos en Gestión</label>
                                        <a href="casosEnGestion.html"><i class="nav-icon mr-2 i-Receipt text-white"></i><span class="text-white">Casos en Gestión</span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="baseUnica">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Base única</label>
                                        <a href="baseUnica.html"><i class="nav-icon i-File-Horizontal-Text mr-2 text-white"></i> <span class="text-white">Base única</span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="estadisticas">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Estadísticas</label>
                                        <a href="estadisticas.html"><i class="nav-icon mr-2 i-Bar-Chart-5 text-white"></i> <span class="text-white">Estadísticas</span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="facturacion">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Facturación</label>
                                        <a href="facturacion.html"><i class="nav-icon mr-2 i-Windows-2 text-white"></i><span class="text-white">Facturación</span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="casosPas">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Mis Casos</label>
                                        <a href="casosPas.html"><i class="nav-icon i-File-Horizontal-Text mr-2 text-white"></i> <span class="text-white">Mis Casos</span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="novedades">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">Información Útil</label>
                                        <a href="novedades.html"><i class="nav-icon i-File-Horizontal-Text mr-2 text-white"></i> <span class="text-white">Novedades</span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="whatsapp" style="float:right">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">whatsapp</label>
                                        <a href="https://api.whatsapp.com/send?phone=5491133032850&text=%C2%A1Hola!%20Te%20contacto%20desde%20la%20web%20"> <span class="text-white"><i class="fa-brands fa-whatsapp"></i></span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="linkedin" style="float:right">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">linkedin</label>
                                        <a href="https://www.linkedin.com/company/in-itinere-int/"> <span class="text-white"><i class="fa-brands fa-linkedin"></i></span></a>
                                    </div>
                                </div>
                            </li>
                            <li class="views" id="instagram" style="float:right">
                                <div>
                                    <div>
                                        <label class="toggle" for="drop-2">instagram</label>
                                        <a href="https://www.instagram.com/initinere_int?igsh=NjNicDZzZDdsYnhl"> <span class="text-white"><i class="fa-brands fa-instagram"></i></span></a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    
                    </div>
                    
                </div>
            </div>
        </div>
        <!-- =============== Horizontal bar End ================-->
        <div class="main-content-wrap d-flex flex-column">
            <!-- ============ Body content start ============= -->
            <div class="main-content">
                <div class="breadcrumb d-flex justify-content-between align-items-center">
                    <h1>Mis casos</h1>
                    <div>
                    <button id="btnExportar" class="btn btn-primary">
                        <i class="fas fa-file-excel"></i> Exportar datos a Excel
                    </button>
                    <button id="showCardButton" class="btn btn-primary"><span class="text-white">Mi Ejecutivo</span> </button>
                     </div>
                </div>
                <div class="separator-breadcrumb border-top"></div>
                <div class="row mb-4">
                </div>
                <!-- end of row-->
                <div class="">
                    <div class="row no-gutters"> <!-- Usar no-gutters para eliminar el espacio entre columnas -->
                        <!-- Columna para la tabla (margen izquierdo) -->
                        <div class="col-md-9 mb-0 full-width"> <!-- Cambiar mb-4 a mb-0 -->
                            <div class="card text-left">
                                <div class="card-body p-2"> <!-- Ajustar el padding -->
                                    <div class="table-responsive"> <!-- Contenedor scrolleable -->
                                        <table class="display table table-striped table-bordered" id="scroll_vertical_dynamic_height_table" style="width:100%">
                                            <thead>
                                               
                                            </thead>
                                            <tbody>
                                               
                                                <!-- Agregar más filas según sea necesario -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-9 mb-0 full-width" style="display: none;" > <!-- Cambiar mb-4 a mb-0 -->
                            <div class="card text-left">
                                <div class="card-body p-2"> <!-- Ajustar el padding -->
                                    <div class="table-responsive"> <!-- Contenedor scrolleable -->
                                        <table class="display table table-striped table-bordered" id="ghost-table" style="width:100%;">
                                            <thead>
                                               
                                            </thead>
                                            <tbody>
                                               <ul id="historyList">

                                               </ul>
                                                <!-- Agregar más filas según sea necesario -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <!-- Columna para la tarjeta (margen derecho) -->
                         <div class="col-md-3 " id="maira" style="display: none;">
                            <div class="card card-profile-1 mb-4">
                                <div class="card-body text-center">
                                    <div class="avatar box-shadow-2 mb-3"><img src="/dist-assets/images/maira.jpeg" alt="" /></div>
                                    <h4 class="m-0">Maira Gaillardou</h4>
                                    <p class="mt-0">Ejecutiva de casos</p>
                                    <p>
                                        Tel: +54 9 11 3497-1006 
                                    </p>
                                    <a href="https://api.whatsapp.com/send?phone=5491134971006&text=%C2%A1Hola!%20Te%20contacto%20desde%20la%20web%20de%20IN%20ITINERE" style="color: azure; text-decoration: none;" 
                                            onmouseover="this.style.color='#1c562d'" 
                                            onmouseout="this.style.color='azure'">
                                            <button class="btn btn-primary btn-rounded">Contactar</button></a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 " id="marianela" style="display: none;">
                            <div class="card card-profile-1 mb-4">
                                <div class="card-body text-center">
                                    <div class="avatar box-shadow-2 mb-3"><img src="/dist-assets/images/marianela.jpeg" alt="" /></div>
                                    <h4 class="m-0">Marianela Soraire</h4>
                                    <p class="mt-0">Ejecutiva de casos</p>
                                    <p>
                                        Tel: +549 11 6033-3712
                                    </p>
                                    <a href="https://api.whatsapp.com/send?phone=5491160333712&text=%C2%A1Hola!%20Te%20contacto%20desde%20la%20web%20de%20IN%20ITINERE" style="color: azure; text-decoration: none;" 
                                            onmouseover="this.style.color='#1c562d'" 
                                            onmouseout="this.style.color='azure'">
                                            <button class="btn btn-primary btn-rounded">Contactar</button></a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 " id="isabella" style="display: none;">
                            <div class="card card-profile-1 mb-4">
                                <div class="card-body text-center">
                                    <div class="avatar box-shadow-2 mb-3"><img src="/dist-assets/images/isabella.jpeg" alt="" /></div>
                                    <h4 class="m-0">Isabella Aschero</h4>
                                    <p class="mt-0">Ejecutiva de casos</p>
                                    <p>
                                        Tel: +54 9 11 2695-7406
                                    </p>
                                    <a href="https://api.whatsapp.com/send?phone=5491126957406&text=%C2%A1Hola!%20Te%20contacto%20desde%20la%20web%20de%20IN%20ITINERE" style="color: azure; text-decoration: none;" 
                                            onmouseover="this.style.color='#1c562d'" 
                                            onmouseout="this.style.color='azure'">
                                            <button class="btn btn-primary btn-rounded">Contactar</button></a>
                                </div>
                            </div>
                        </div>
                    
                    </div>
                </div>
                <div class="modal fade" id="history" tabindex="-1" role="dialog" aria-labelledby="uploadFcTitle-2" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="uploadFcTitle-2">Informe del Caso</h5>
                                <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                            </div>
                            <div class="modal-body">
                                
                                <div ></div>
            
                            </div>
                        </div>
                    </div>
                </div>
                    <!-- end of col-->

    </div><!-- ============ Search UI Start ============= -->
  <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userData = JSON.parse(localStorage.getItem('userData'));
        
            if (userData) {
                const permission = userData.permission;
                console.log(permission) // Asumimos que este es un string con el permiso del usuario
                const name = userData.name;
                document.getElementById('userNameDisplay').innerText = `${userData.name}`;
                // Ocultar todas las pestañas inicialmente
                document.querySelectorAll('.views').forEach(view => {
                    view.style.display = 'none'; // Ocultar todas las pestañas
                });
        
                // Mostrar pestañas basadas en permisos
                if (permission === 'super usuario') {
                    document.getElementById('nuevoCaso').style.display = 'block';
                    document.getElementById('casosPendientes').style.display = 'block';
                    document.getElementById('casosGestion').style.display = 'block';
                    document.getElementById('baseUnica').style.display = 'block';
                    document.getElementById('estadisticas').style.display = 'block';
                    document.getElementById('facturacion').style.display = 'block';
                    document.getElementById('casosPas').style.display = 'block';
                    document.getElementById('novedades').style.display = 'block';
                } else if (permission === 'ejecutivo') {
                    document.getElementById('nuevoCaso').style.display = 'block';
                    document.getElementById('casosGestion').style.display = 'block';
                    document.getElementById('baseUnica').style.display = 'block';
                    document.getElementById('estadisticas').style.display = 'block';
                } else if (permission === 'mesa de entrada') {
                    document.getElementById('nuevoCaso').style.display = 'block';
                    document.getElementById('casosPendientes').style.display = 'block';
                } else if (permission === 'mediacion') {
                    document.getElementById('nuevoCaso').style.display = 'block';
                    document.getElementById('casosGestion').style.display = 'block';
                    document.getElementById('baseUnica').style.display = 'block';
                    document.getElementById('estadisticas').style.display = 'block';
                }else if (permission === 'jefe de operaciones') {
                    document.getElementById('nuevoCaso').style.display = 'block';
                    document.getElementById('casosGestion').style.display = 'block';
                    document.getElementById('baseUnica').style.display = 'block';
                    document.getElementById('estadisticas').style.display = 'block';

                }else if (permission === 'PAS') {
                    document.getElementById('casosPas').style.display = 'block';
                    document.getElementById('novedades').style.display = 'block';
                    document.getElementById('whatsapp').style.display = 'block';
                    document.getElementById('linkedin').style.display = 'block';
                    document.getElementById('instagram').style.display = 'block';

                }else if (permission === 'PRUEBA') {
                    document.getElementById('casosPas').style.display = 'block';
                    document.getElementById('novedades').style.display = 'block';
                    document.getElementById('whatsapp').style.display = 'block';
                    document.getElementById('linkedin').style.display = 'block';
                    document.getElementById('instagram').style.display = 'block';

                }else if (permission === 'ORGANIZADOR') {
                    document.getElementById('casosPas').style.display = 'block';
                    document.getElementById('novedades').style.display = 'block';
                    document.getElementById('whatsapp').style.display = 'block';
                    document.getElementById('linkedin').style.display = 'block';
                    document.getElementById('instagram').style.display = 'block';

                }else if (permission === 'LEGALES') {
                    document.getElementById('casosGestion').style.display = 'block';
                    document.getElementById('baseUnica').style.display = 'block';
                }else if (permission === 'FACTURACION') {
                    document.getElementById('facturacion').style.display = 'block';
                    document.getElementById('estadisticas').style.display = 'block';
                }
            } else {
                // Si no hay información de usuario, redirigir a login
                window.location.href = 'index.html';
            }
        });
        
        const $btnExportar = document.querySelector("#btnExportar"), 
        $tabla = document.querySelector("#zero_configuration_table");

    $btnExportar.addEventListener("click", function() {
        let tableExport = new TableExport($tabla, {
            exportButtons: false, // No queremos botones
            filename: "Reporte_casos_initinere", //Nombre del archivo de Excel
            sheetname: "Reporte de casos", //Título de la hoja
        });
        let datos = tableExport.getExportData();
        let preferenciasDocumento = datos.zero_configuration_table.xlsx;
        tableExport.export2file(preferenciasDocumento.data, preferenciasDocumento.mimeType, preferenciasDocumento.filename, preferenciasDocumento.fileExtension, preferenciasDocumento.merges, preferenciasDocumento.RTL, preferenciasDocumento.sheetname);
    });
  </script>
    <!-- ============ Search UI End ============= -->
    <script src="/dist-assets/js/plugins/jquery-3.3.1.min.js"></script>
    <script src="/dist-assets/js/plugins/bootstrap.bundle.min.js"></script>
    <script src="/dist-assets/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="/dist-assets/js/scripts/script.min.js"></script>
    <script src="/dist-assets/js/scripts/sidebar-horizontal.script.js"></script>
    <script src="/dist-assets/js/plugins/datatables.min.js"></script>
    <script src="/dist-assets/js/scripts/datatables.script.min.js"></script>
    <script src="/dist-assets/js/scripts/customizer.script.min.js"></script>
    <script src="/dist-assets/js/tablePas.js"></script>
</body>

</html>